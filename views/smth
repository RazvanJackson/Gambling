methods:{
        Bet(){
            let choosenColor = event.target.value;
            let activePlayers = localStorage.getItem('activePlayers');
            if(this.active == true && this.timer>0){
                $.post('/play/roulette',{
                details: {
                    amount: parseInt(app.amount),
                    choosenColor: choosenColor
                }
            }, function(data){
                if(data.error == false && data.user){
                    console.log("success", data);
                    let newPlayer = {
                        id : data.user._id,
                        username : data.user.username,
                        amount  : app.amount,
                        color : choosenColor
                    }
                    app.active = true;
                    app.activePlayers.push(newPlayer);
                    socket.emit('sendPlayers', newPlayer);
                    localStorage.setItem('activePlayers', JSON.stringify(app.activePlayers));
                }
                else{
                    console.log(data);
                }
            });
            }
            else{
                console.log('You cannot bet',app.active, app.timer);
            }
        },
        SendResults(){
            let totalPlayers = localStorage.getItem('activePlayers');

            $.post('/play/roulette-save-game',{
                details: {
                    rouletteID: app.rouletteID,
                    players: totalPlayers,
                    winningNumber: app.winningNumber,
                    winningColor: app.winningColor                    
                }
            }, function(data){
                console.log(data);
            });
        },
        Clear(){
            localStorage.setItem('rouletteID', app.rouletteID);
            localStorage.setItem('activePlayers', []);
            this.timer = null;
            this.activePlayers = [];
            this.active = true;

        },
        Rolling(){
            this.active = false;
        },
        ChooseNumber(){
            this.winningNumber = Math.floor(Math.random()*this.maxNumber);
            if(app.winningNumber == 0) app.winningColor = 'green';
            else if(app.winningNumber < 8 && app.winningNumber > 0) this.winningColor = 'red';
            else if(app.winningNumber > 7 && app.winningNumber < 15) this.winningColor = 'black';
            
            localStorage.setItem('winningNumber', app.winningNumber);
            this.active = false;
        },
        EndOfRound(){
        this.SendResults();
        this.rouletteID++;
        console.log(this.rouletteID);
        },
        Timer(){
            this.timerMessage = 'Time:' + this.timer;
        }
    },

    created(){
        let activePlayersInStorage;
        
        this.winningNumber = localStorage.getItem('winningNumber');
        this.rouletteID = localStorage.getItem('rouletteID');
        this.timer = localStorage.getItem('time');
        if(this.timer>0) this.active = true;
        if(activePlayersInStorage == null) this.activePlayers = [];
        else{
            activePlayersInStorage = JSON.parse(localStorage.getItem('activePlayers'));

            activePlayersInStorage.forEach(function(el){
                console.log(el);
            });

            this.activePlayers = activePlayersInStorage;
        } 
    },